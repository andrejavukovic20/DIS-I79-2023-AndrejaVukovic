package delivery;

public class DeliveryNotifierTest {

	  @Test
	    void sendDelivered_sendsToOrderDeliveredQueue() {
	        RabbitTemplate tpl = mock(RabbitTemplate.class);
	        DeliveryNotifier notifier = new DeliveryNotifier(tpl);

	        OrderEventDto dto = new OrderEventDto();
	        dto.setOrderId(10L);

	        notifier.sendDelivered(dto);

	        verify(tpl).convertAndSend(OrderQueues.ORDER_DELIVERED, dto);
	        verifyNoMoreInteractions(tpl);
	    }
}
